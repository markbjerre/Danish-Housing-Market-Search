# ğŸ  Danish Housing Market Analysis - Web Interface

## ğŸ“‹ What We Built

A complete web-based interface for browsing and analyzing Danish housing properties with customizable scoring.

---

## ğŸ¯ Final File Structure

```
webpage/
â”œâ”€â”€ app.py                    # Flask backend with API endpoints
â”œâ”€â”€ start_server.bat          # Windows batch file to start server
â”œâ”€â”€ README.md                 # Full documentation
â”œâ”€â”€ QUICKSTART.md             # Quick start instructions
â”œâ”€â”€ PROJECT_SUMMARY.md        # This summary
â”œâ”€â”€ static/
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ style.css        # Custom styling and animations
â”‚   â””â”€â”€ js/
â”‚       â””â”€â”€ main.js          # Frontend logic and API calls
â””â”€â”€ templates/
    â””â”€â”€ index.html           # Main HTML template with Bootstrap 5
```

**Total: 8 essential files** (no test/debug files)

---

## âœ¨ Features

### ğŸ” Property Filtering
- **Price Range Slider**: Dynamic 0-10M kr range
- **Size Filter**: Minimum square meters
- **Property Type**: Villa, Condo, Terraced House
- **Municipality**: All Danish municipalities in your database

### ğŸ“Š Score Visualization
- **Color-Coded Indicators**:
  - ğŸŸ¢ Green (80-100): Excellent properties
  - ğŸŸ¡ Yellow (50-79): Good properties
  - ğŸ”´ Red (0-49): Fair properties
- **Component Breakdown**: View individual scores for:
  - Price score
  - Size score
  - Location score
  - Age score
  - Floor score
  - Days on market score

### âš–ï¸ Customizable Scoring
- Adjust weight importance for each factor
- Real-time score recalculation
- Automatic normalization

### ğŸ“± Modern Interface
- Responsive Bootstrap 5 design
- Smooth animations and transitions
- Property cards with hover effects
- Mobile-friendly layout

---

## ğŸš€ Usage

### Starting the Server

```powershell
cd "c:\Users\Mark BJ\Desktop\Code\housing_project\webpage"
python app.py
```

**Or double-click**: `start_server.bat`

Then open: **http://localhost:5000**

### Stopping the Server
Press **Ctrl+C** in the terminal window

---

## ğŸ”Œ API Endpoints

| Endpoint | Method | Parameters | Returns |
|----------|--------|------------|---------|
| `/` | GET | - | HTML page |
| `/api/properties` | GET | min_price, max_price, property_type, min_size, municipality | Property list with scores |
| `/api/municipalities` | GET | - | List of municipalities |
| `/api/property-types` | GET | - | List of property types |
| `/api/scoring-weights` | GET | - | Current scoring weights |
| `/api/scoring-weights` | POST | weight object | Updated weights |

---

## ğŸ› ï¸ Technology Stack

- **Backend**: Flask 2.0.1
- **Frontend**: Vanilla JavaScript + Bootstrap 5
- **Database**: PostgreSQL with SQLAlchemy ORM
- **UI Libraries**: 
  - NoUiSlider (range inputs)
  - Bootstrap 5 (responsive design)
- **Architecture**: RESTful API with lazy loading

---

## ğŸ“– Key Implementation Details

### Lazy Loading Pattern
```python
def get_database():
    from src.database import db
    return db
```
- Prevents database connection on app startup
- Better error handling
- Faster server initialization

### Dynamic Filtering
- Client-side state management
- Real-time API calls on filter changes
- Debounced updates for performance

### Score Calculation
- Backend calculation in PropertyScorer
- Frontend visualization with progress bars
- Color-coded based on thresholds

---

## âœ… Completed Tasks

- [x] Flask backend with RESTful API
- [x] Responsive frontend with Bootstrap
- [x] Property filtering (price, size, type, location)
- [x] Score visualization with colors
- [x] Adjustable scoring weights
- [x] Municipality/type dropdowns
- [x] Price range slider
- [x] Error handling
- [x] Documentation
- [x] Startup scripts
- [x] Cleaned up test files

---

## ğŸ“ Project Context

This web interface is part of the larger **Danish Housing Market Analysis** project:

```
housing_project/
â”œâ”€â”€ src/                  # Core logic (database, models, scoring)
â”œâ”€â”€ data/                 # CSV data and SQL queries
â”œâ”€â”€ housing_scraper/      # Web scraping from Boligsiden.dk
â”œâ”€â”€ notebooks/            # Analysis notebooks
â””â”€â”€ webpage/              # THIS WEB INTERFACE
```

The web interface connects to the existing database and scoring system to provide an interactive way to explore the scraped property data.

---

## ğŸ¯ Next Steps (Optional)

If you want to enhance the interface:

1. **Add Property Details Modal**: Click property cards to see full details
2. **Map View**: Integrate Folium/Leaflet for geographic visualization
3. **Export Functionality**: Download filtered results as CSV
4. **Comparison Tool**: Select multiple properties to compare
5. **Historical Trends**: Show price trends over time
6. **Save Filters**: Store user preferences in localStorage
7. **Production Deployment**: Use Gunicorn/uWSGI for production

---

## ğŸ“ Support

For issues:
1. Check the PowerShell window for error messages
2. Verify database is running and populated
3. Ensure all Python dependencies are installed
4. Review `README.md` for troubleshooting guide

---

**Status**: âœ… Complete and Production Ready
**Last Updated**: October 4, 2025
**Created**: October 4, 2025